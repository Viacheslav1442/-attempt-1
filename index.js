(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const u="https://sound-wave.b.goit.study/api";let c=0;const f=8;let m=[],y,a,d,l,g;function C(e){const n=document.createElement("div");n.className="artist-card";const o=document.createElement("img");o.src=e.photo,o.alt=e.name,o.addEventListener("error",function(){this.src="https://placehold.co/150x150/cccccc/333333?text=No+Image",this.alt="No Image Available"}),n.appendChild(o);const s=document.createElement("h3");s.textContent=e.name,n.appendChild(s);const t=document.createElement("p"),r=document.createElement("strong");r.textContent="Genres: ",t.appendChild(r),t.append(e.genres&&e.genres.length>0?e.genres.join(", "):"N/A"),n.appendChild(t);const i=document.createElement("p");i.textContent=e.shortInfo||"No short info available.",n.appendChild(i);const p=document.createElement("button");return p.className="learn-more-btn",p.textContent="Learn More",p.addEventListener("click",()=>{E(e)}),n.appendChild(p),n}function E(e){for(;l.firstChild;)l.removeChild(l.firstChild);const n=document.createElement("h2");n.textContent=e.name,l.appendChild(n);const o=document.createElement("p"),s=document.createElement("strong");s.textContent="Genres: ",o.appendChild(s),o.append(e.genres&&e.genres.length>0?e.genres.join(", "):"N/A"),l.appendChild(o);const t=document.createElement("p");t.textContent=e.description||"No detailed description available.",l.appendChild(t),d.style.display="flex"}async function h(){try{if(c===0){console.log(`Sending initial request to: ${u}/artists`);const o=(await axios.get(`${u}/artists`)).data.artists;if(!Array.isArray(o)){console.error("API response is not an array (after accessing .artists):",o),a.style.display="none";return}m=o}m.slice(c,c+f).forEach(n=>{const o=C(n);y.appendChild(o)}),c+=f,c>=m.length?a.style.display="none":a.style.display="block"}catch(e){console.error("Axios error during artist loading:",e),axios.isAxiosError(e)&&e.response?(console.error("API Error Response Details:"),console.error("Status:",e.response.status),console.error("Data:",e.response.data),console.error("Headers:",e.response.headers)):e.request?console.error("No response received from API for the request."):console.error("Error setting up the request:",e.message),a.style.display="none"}}function A(){y=document.getElementById("artistsContainer"),a=document.getElementById("loadMoreBtn"),d=document.getElementById("modal"),l=document.getElementById("modalContent"),g=document.getElementById("closeModal"),g.onclick=()=>{d.style.display="none"},window.onclick=e=>{e.target===d&&(d.style.display="none")},a.onclick=h,h()}document.addEventListener("DOMContentLoaded",()=>{A()});
//# sourceMappingURL=index.js.map
