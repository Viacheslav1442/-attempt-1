import{a as g}from"./assets/vendor-B2YOV0tR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const m=g.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:5e3,headers:{"Content-Type":"application/json"}});m.interceptors.request.use(e=>(showLoader(),e),e=>(hideLoader(),Promise.reject(e)));m.interceptors.response.use(e=>(hideLoader(),e),e=>(hideLoader(),iziToast.error({title:"Помилка",message:"Сталася помилка при запиті до сервера. Спробуйте ще раз.",position:"topRight"}),Promise.reject(e)));async function y(){try{return(await m.get("/artists")).data}catch(e){throw console.error("❌ Помилка при отриманні артистів:",e),e}}let c=0;const h=8;let l=[],p,n;function L(e){const t=[e.strGenre,e.strStyle,e.strMood,e.strGenre2,e.strGenre3,e.strMood2,e.strMood3].filter(Boolean);return t.length>0?t.join(", "):"N/A"}function C(e){const t=document.createElement("div");t.className="artist-card";const o=document.createElement("img");o.src=e.strArtistThumb||"https://placehold.co/150x150/cccccc/333333?text=No+Image",o.alt=e.strArtist||"No Image",o.addEventListener("error",function(){this.src.includes("placehold.co")||(this.src="https://placehold.co/150x150/cccccc/333333?text=No+Image",this.alt="No Image Available")}),t.appendChild(o);const a=document.createElement("h3");a.textContent=e.strArtist||"Unknown Artist",t.appendChild(a);const r=document.createElement("p"),s=document.createElement("strong");s.textContent="Genres: ",r.appendChild(s),r.append(L(e)),t.appendChild(r);const i=document.createElement("p");i.className="artist-description";const u=e.strBiographyEN||"No short info available.";i.textContent=u.length>200?u.slice(0,200)+"...":u,t.appendChild(i);const d=document.createElement("button");return d.className="learn-more-btn",d.textContent="Learn More",d.dataset.artistId=e.idArtist,t.appendChild(d),t}async function f(){try{if(c===0){const t=await y();if(!Array.isArray(t)){alert("Error: Received invalid data from server."),n==null||n.classList.add("hidden");return}l=t}if(c>=l.length){n==null||n.classList.add("hidden");return}l.slice(c,c+h).forEach(t=>{const o=C(t);p.appendChild(o)}),c+=h,c>=l.length?n==null||n.classList.add("hidden"):n==null||n.classList.remove("hidden")}catch{alert("Failed to load artists. Please try again later."),n==null||n.classList.add("hidden")}}function A(){p=document.getElementById("artistsContainer"),n=document.getElementById("loadMoreBtn"),!(!p||!n)&&(n.onclick=f,f())}document.addEventListener("DOMContentLoaded",()=>{A()});
//# sourceMappingURL=index.js.map
