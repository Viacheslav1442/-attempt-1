import{a as g,i as y}from"./assets/vendor-DSJL_ovD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const h=g.create({baseURL:"https://sound-wave.b.goit.study/api-docs/",timeout:5e3,headers:{"Content-Type":"application/json"}});h.interceptors.response.use(e=>e,e=>(y.error({title:"Помилка",message:"Сталася помилка при запиті до сервера. Спробуйте ще раз.",position:"topRight"}),Promise.reject(e)));async function L(){try{return(await h.get("/artists")).data}catch(e){throw e}}let c=0;const m=8;let l=[],p,r;function E(){const e=document.getElementById("loader");e&&e.classList.remove("hidden")}function C(){const e=document.getElementById("loader");e&&e.classList.add("hidden")}function A(e){const t=[e.strGenre,e.strStyle,e.strMood,e.strGenre2,e.strGenre3,e.strMood2,e.strMood3].filter(Boolean);return t.length>0?t.join(", "):"N/A"}function v(e){const t=document.createElement("div");t.className="artist-card";const o=document.createElement("img");o.src=e.strArtistThumb||"https://placehold.co/150x150/cccccc/333333?text=No+Image",o.alt=e.strArtist||"No Image",o.addEventListener("error",function(){this.src.includes("placehold.co")||(this.src="https://placehold.co/150x150/cccccc/333333?text=No+Image",this.alt="No Image Available")}),t.appendChild(o);const a=document.createElement("h3");a.textContent=e.strArtist||"Unknown Artist",t.appendChild(a);const n=document.createElement("p"),s=document.createElement("strong");s.textContent="Genres: ",n.appendChild(s),n.append(A(e)),t.appendChild(n);const i=document.createElement("p");i.className="artist-description";const u=e.strBiographyEN||"No short info available.";i.textContent=u.length>200?u.slice(0,200)+"...":u,t.appendChild(i);const d=document.createElement("button");return d.className="learn-more-btn",d.textContent="Learn More",d.dataset.artistId=e.idArtist,t.appendChild(d),t}async function f(){try{if(E(),c===0){const t=await L();if(!Array.isArray(t)){alert("Error: Received invalid data from server."),r==null||r.classList.add("hidden");return}l=t}if(c>=l.length){r==null||r.classList.add("hidden");return}l.slice(c,c+m).forEach(t=>{const o=v(t);p.appendChild(o)}),c+=m,c>=l.length?r==null||r.classList.add("hidden"):r==null||r.classList.remove("hidden")}catch{alert("Failed to load artists. Please try again later."),r==null||r.classList.add("hidden")}finally{C()}}function N(){p=document.getElementById("artistsContainer"),r=document.getElementById("loadMoreBtn"),!(!p||!r)&&(r.onclick=f,f())}document.addEventListener("DOMContentLoaded",()=>{N()});
//# sourceMappingURL=index.js.map
