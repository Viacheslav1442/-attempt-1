import{a as h}from"./assets/vendor-B2YOV0tR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const p=h.create({baseURL:"https://sound-wave.b.goit.study/api-docs/",timeout:5e3,headers:{"Content-Type":"application/json"}});p.interceptors.request.use(e=>(showLoader(),e),e=>(hideLoader(),Promise.reject(e)));p.interceptors.response.use(e=>(hideLoader(),e),e=>(hideLoader(),iziToast.error({title:"Помилка",message:"Сталася помилка при запиті до сервера. Спробуйте ще раз.",position:"topRight"}),Promise.reject(e)));async function y(){try{return(await p.get("/artists")).data}catch(e){throw console.error("❌ Помилка при отриманні артистів:",e),e}}let a=0;const u=8;let d=[],f,i;function g(e){const t=[e.strGenre,e.strStyle,e.strMood,e.strGenre2,e.strGenre3,e.strMood2,e.strMood3].filter(Boolean);return t.length>0?t.join(", "):"N/A"}function C(e){const t=document.createElement("div");t.className="artist-card";const o=document.createElement("img");o.src=e.strArtistThumb||"https://placehold.co/150x150/cccccc/333333?text=No+Image",o.alt=e.strArtist||"No Image",o.addEventListener("error",function(){this.src="https://placehold.co/150x150/cccccc/333333?text=No+Image",this.alt="No Image Available"}),t.appendChild(o);const c=document.createElement("h3");c.textContent=e.strArtist||"Unknown Artist",t.appendChild(c);const r=document.createElement("p"),n=document.createElement("strong");n.textContent="Genres: ",r.appendChild(n),r.append(g(e)),t.appendChild(r);const s=document.createElement("p");s.className="artist-description",s.textContent=e.strBiographyEN||"No short info available.",t.appendChild(s);const l=document.createElement("button");return l.className="learn-more-btn",l.textContent="Learn More",l.dataset.artistId=e.idArtist,t.appendChild(l),t}async function m(){try{if(a===0){const t=await y();if(!Array.isArray(t)){alert("Error: Received invalid data from server."),i.style.display="none";return}d=t}if(a>=d.length){i.style.display="none";return}d.slice(a,a+u).forEach(t=>{const o=C(t);f.appendChild(o)}),a+=u,i.style.display=a<d.length?"block":"none"}catch{alert("Failed to load artists. Please try again later."),i.style.display="none"}}function A(){f=document.getElementById("artistsContainer"),i=document.getElementById("loadMoreBtn"),i.onclick=m,m()}document.addEventListener("DOMContentLoaded",()=>{A()});
//# sourceMappingURL=index.js.map
