import{a as y}from"./assets/vendor-B2YOV0tR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const h=y.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:5e3,headers:{"Content-Type":"application/json"}});h.interceptors.response.use(e=>e,e=>(alert("Сталася помилка при запиті до сервера. Спробуйте ще раз."),Promise.reject(e)));async function g(){try{return(await h.get("/artists")).data}catch(e){throw e}}let a=0;const p=8;let u=[],m,n;function A(){const e=document.getElementById("loader");e&&e.classList.remove("hidden")}function L(){const e=document.getElementById("loader");e&&e.classList.add("hidden")}function E(e){const t=[e.strGenre,e.strStyle,e.strMood,e.strGenre2,e.strGenre3,e.strMood2,e.strMood3].filter(Boolean);return t.length>0?t.join(", "):"N/A"}function C(e){const t=document.createElement("div");t.className="artist-card";const o=document.createElement("img");o.src=e.strArtistThumb||"https://placehold.co/150x150/cccccc/333333?text=No+Image",o.alt=e.strArtist||"No Image",o.addEventListener("error",function(){this.src.includes("placehold.co")||(this.src="https://placehold.co/150x150/cccccc/333333?text=No+Image",this.alt="No Image Available")}),t.appendChild(o);const c=document.createElement("h3");c.textContent=e.strArtist||"Unknown Artist",t.appendChild(c);const r=document.createElement("p"),s=document.createElement("strong");s.textContent="Genres: ",r.appendChild(s),r.append(E(e)),t.appendChild(r);const i=document.createElement("p");i.className="artist-description";const l=e.strBiographyEN||"No short info available.";i.textContent=l.length>200?l.slice(0,200)+"...":l,t.appendChild(i);const d=document.createElement("button");return d.className="learn-more-btn",d.textContent="Learn More",d.dataset.artistId=e.idArtist,t.appendChild(d),t}async function f(){try{if(A(),a===0){const t=await g(),o=Array.isArray(t)?t:Array.isArray(t.artists)?t.artists:null;if(!o){alert("Error: Received invalid data from server."),n==null||n.classList.add("hidden");return}u=o}u.slice(a,a+p).forEach(t=>{const o=C(t);m.appendChild(o)}),a+=p,a>=u.length?n==null||n.classList.add("hidden"):n==null||n.classList.remove("hidden")}catch{alert("Failed to load artists. Please try again later."),n==null||n.classList.add("hidden")}finally{L()}}function v(){m=document.getElementById("artistsContainer"),n=document.getElementById("loadMoreBtn"),!(!m||!n)&&(n.onclick=f,f())}document.addEventListener("DOMContentLoaded",()=>{v()});
//# sourceMappingURL=index.js.map
