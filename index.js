import{a as u}from"./assets/vendor-B2YOV0tR.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const f="https://sound-wave.b.goit.study/api";let l=0;const g=8;let m=[],E,a,i,d,h;function C(e){const n=[e.strGenre,e.strStyle,e.strMood,e.strGenre2,e.strGenre3,e.strMood2,e.strMood3].filter(Boolean);return n.length>0?n.join(", "):"N/A"}function A(e){const n=document.createElement("div");n.className="artist-card";const o=document.createElement("img");o.src=e.strArtistThumb||"https://placehold.co/150x150/cccccc/333333?text=No+Image",o.alt=e.strArtist||"No Image",o.addEventListener("error",function(){this.src="https://placehold.co/150x150/cccccc/333333?text=No+Image",this.alt="No Image Available"}),n.appendChild(o);const s=document.createElement("h3");s.textContent=e.strArtist||"Unknown Artist",n.appendChild(s);const t=document.createElement("p"),r=document.createElement("strong");r.textContent="Genres: ",t.appendChild(r),t.append(C(e)),n.appendChild(t);const c=document.createElement("p");c.className="artist-description",c.textContent=e.strBiographyEN||"No short info available.",n.appendChild(c);const p=document.createElement("button");return p.className="learn-more-btn",p.textContent="Learn More",p.addEventListener("click",()=>{N(e)}),n.appendChild(p),n}function N(e){d.innerHTML="";const n=document.createElement("h2");n.textContent=e.strArtist||"Unknown Artist",d.appendChild(n);const o=document.createElement("p"),s=document.createElement("strong");s.textContent="Genres: ",o.appendChild(s),o.append(C(e)),d.appendChild(o);const t=document.createElement("p");t.textContent=e.strBiographyEN||"No detailed description available.",d.appendChild(t),i.style.display="flex"}async function y(){try{if(l===0){console.log(`Sending initial request to: ${f}/artists`);const o=(await u.get(`${f}/artists`)).data.artists;if(!Array.isArray(o)){console.error("API response is not an array:",o),a.style.display="none";return}m=o}if(l>=m.length){a.style.display="none";return}m.slice(l,l+g).forEach(n=>{const o=A(n);E.appendChild(o)}),l+=g,a.style.display=l<m.length?"block":"none"}catch(e){console.error("Axios error during artist loading:",e),u.isAxiosError(e)&&e.response?(console.error("Status:",e.response.status),console.error("Data:",e.response.data),console.error("Headers:",e.response.headers)):e.request?console.error("No response received from API for the request."):console.error("Error setting up the request:",e.message),a.style.display="none"}}function x(){E=document.getElementById("artistsContainer"),a=document.getElementById("loadMoreBtn"),i=document.getElementById("modal"),d=document.getElementById("modalContent"),h=document.getElementById("closeModal"),h.onclick=()=>{i.style.display="none"},window.onclick=e=>{e.target===i&&(i.style.display="none")},a.onclick=y,y()}document.addEventListener("DOMContentLoaded",()=>{x()});
//# sourceMappingURL=index.js.map
