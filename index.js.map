{"version":3,"file":"index.js","sources":["../src/js/artist-section.js","../src/main.js"],"sourcesContent":["const API_URL = 'https://sound-wave.b.goit.study/api';\nlet offset = 0;\nconst limit = 8;\nlet allArtists = [];\n\nlet artistsContainer;\nlet loadMoreBtn;\nlet modal;\nlet modalContent;\nlet closeModal;\n\nfunction createCard(artist) {\n    const card = document.createElement('div');\n    card.className = 'artist-card';\n\n    const img = document.createElement('img');\n    img.src = artist.strArtistThumb;\n    img.alt = artist.strArtist;\n    img.addEventListener('error', function () {\n        this.src = 'https://placehold.co/150x150/cccccc/333333?text=No+Image';\n        this.alt = 'No Image Available';\n    });\n    card.appendChild(img);\n\n    const h3 = document.createElement('h3');\n    h3.textContent = artist.strArtist;\n    card.appendChild(h3);\n\n    const genresP = document.createElement('p');\n    const genresStrong = document.createElement('strong');\n    genresStrong.textContent = 'Genres: ';\n    genresP.appendChild(genresStrong);\n    genresP.append(artist.genres && artist.genres.length > 0 ? artist.genres.join(', ') : 'N/A');\n    card.appendChild(genresP);\n\n    const shortInfoP = document.createElement('p');\n    shortInfoP.textContent = artist.strBiographyEN || 'No short info available.';\n    card.appendChild(shortInfoP);\n\n    const learnMoreButton = document.createElement('button');\n    learnMoreButton.className = 'learn-more-btn';\n    learnMoreButton.textContent = 'Learn More';\n    learnMoreButton.addEventListener('click', () => {\n        showModal(artist);\n    });\n    card.appendChild(learnMoreButton);\n\n    return card;\n}\n\nfunction showModal(artist) {\n    while (modalContent.firstChild) {\n        modalContent.removeChild(modalContent.firstChild);\n    }\n\n    const modalTitle = document.createElement('h2');\n    modalTitle.textContent = artist.strArtist;\n    modalContent.appendChild(modalTitle);\n\n    const genresP = document.createElement('p');\n    const genresStrong = document.createElement('strong');\n    genresStrong.textContent = 'Genres: ';\n    genresP.appendChild(genresStrong);\n    genresP.append(artist.genres && artist.genres.length > 0 ? artist.genres.join(', ') : 'N/A');\n    modalContent.appendChild(genresP);\n\n    const descriptionP = document.createElement('p');\n    descriptionP.textContent = artist.strBiographyEN || 'No detailed description available.';\n    modalContent.appendChild(descriptionP);\n\n    modal.style.display = 'flex';\n}\n\nasync function loadArtistsDataAndDisplay() {\n    try {\n        if (offset === 0) {\n            console.log(`Sending initial request to: ${API_URL}/artists`);\n            const response = await axios.get(`${API_URL}/artists`);\n            const data = response.data.artists;\n\n            if (!Array.isArray(data)) {\n                console.error('API response is not an array (after accessing .artists):', data);\n                loadMoreBtn.style.display = 'none';\n                return;\n            }\n            allArtists = data;\n        }\n\n        const artistsToDisplay = allArtists.slice(offset, offset + limit);\n        artistsToDisplay.forEach((artist) => {\n            const card = createCard(artist);\n            artistsContainer.appendChild(card);\n        });\n\n        offset += limit;\n\n        if (offset >= allArtists.length) {\n            loadMoreBtn.style.display = 'none';\n        } else {\n            loadMoreBtn.style.display = 'block';\n        }\n\n    } catch (error) {\n        console.error('Axios error during artist loading:', error);\n\n        if (axios.isAxiosError(error) && error.response) {\n            console.error('API Error Response Details:');\n            console.error('Status:', error.response.status);\n            console.error('Data:', error.response.data);\n            console.error('Headers:', error.response.headers);\n        } else if (error.request) {\n            console.error('No response received from API for the request.');\n        } else {\n            console.error('Error setting up the request:', error.message);\n        }\n\n        loadMoreBtn.style.display = 'none';\n    }\n}\n\nfunction initArtistSection() {\n    artistsContainer = document.getElementById('artistsContainer');\n    loadMoreBtn = document.getElementById('loadMoreBtn');\n    modal = document.getElementById('modal');\n    modalContent = document.getElementById('modalContent');\n    closeModal = document.getElementById('closeModal');\n\n    closeModal.onclick = () => {\n        modal.style.display = 'none';\n    };\n\n    window.onclick = (e) => {\n        if (e.target === modal) {\n            modal.style.display = 'none';\n        }\n    };\n\n    loadMoreBtn.onclick = loadArtistsDataAndDisplay;\n    loadArtistsDataAndDisplay();\n}\n\nexport { initArtistSection };","import { initArtistSection } from './js/artist-section.js'\n\n// Чекаємо, доки DOM буде повністю завантажений, перш ніж ініціалізувати додаток\ndocument.addEventListener('DOMContentLoaded', () => {\n    initArtistSection();\n});\n\n"],"names":["API_URL","offset","limit","allArtists","artistsContainer","loadMoreBtn","modal","modalContent","closeModal","createCard","artist","card","img","h3","genresP","genresStrong","shortInfoP","learnMoreButton","showModal","modalTitle","descriptionP","loadArtistsDataAndDisplay","data","error","initArtistSection"],"mappings":"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"}